(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{2661:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(11),o=a(13),i=a(12),s=a(14),l=a(36),c=a(17),d=a(0),u=a.n(d),p=a(15),m=a(1969),b=a.n(m),g=a(80),h=a.n(g),v=(a(2038),a(1)),E=a(1884),f=a.n(E),y=a(1749),w=a(5),D=a.n(w),O=a(3),j={month:{title:"Month",icon:"view_module"},week:{title:"Week",icon:"view_week"},work_week:{title:"Work week",icon:"view_array"},day:{title:"Day",icon:"view_day"},agenda:{title:"Agenda",icon:"view_agenda"}},k=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"viewButtons",value:function(){var e=this,t=this.props.views,a=this.props.view;if(t.length>1)return t.map(function(t){return u.a.createElement(v.ub,{title:j[t].title,key:t},u.a.createElement("div",null,u.a.createElement(O.d,{animation:"transition.expandIn",delay:500},u.a.createElement(v.I,{"aria-label":t,onClick:function(){return e.props.onView(t)},disabled:a===t},u.a.createElement(v.H,null,j[t].icon)))))})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.label,n=e.date;return u.a.createElement(p.MuiThemeProvider,{theme:O.A.mainThemeDark},u.a.createElement("div",{className:D()(t.root,h()(n).format("MMM"))},u.a.createElement("div",{className:"flex flex-1 flex-col p-12 justify-between z-10"},u.a.createElement("div",{className:"flex flex-col items-center justify-between sm:flex-row"},u.a.createElement("div",{className:"flex items-center my-16 sm:mb-0"},u.a.createElement(O.d,{animation:"transition.expandIn",delay:300},u.a.createElement(v.H,{className:"text-32 mx-12"},"today")),u.a.createElement(O.d,{animation:"transition.slideLeftIn",delay:300},u.a.createElement(v.vb,{variant:"h6"},"Calendar"))),u.a.createElement("div",{className:"flex items-center"},u.a.createElement(v.ub,{title:"Today"},u.a.createElement(O.d,{animation:"transition.expandIn",delay:500},u.a.createElement(v.I,{"aria-label":"today",onClick:this.navigate.bind(null,y.navigate.TODAY)},u.a.createElement(v.H,null,"today")))),this.viewButtons())),u.a.createElement(O.d,{delay:500},u.a.createElement("div",{className:"flex items-center justify-center"},u.a.createElement(v.ub,{title:"Previous"},u.a.createElement(v.I,{"aria-label":"Previous",onClick:this.navigate.bind(null,y.navigate.PREVIOUS)},u.a.createElement(v.H,null,"chevron_left"))),u.a.createElement(v.vb,{variant:"h6"},a),u.a.createElement(v.ub,{title:"Next"},u.a.createElement(v.I,{"aria-label":"Next",onClick:this.navigate.bind(null,y.navigate.NEXT)},u.a.createElement(v.H,null,"chevron_right"))))))))}}]),t}(f.a),x=Object(p.withStyles)(function(e){return{root:{height:200,minHeight:200,display:"flex",backgroundImage:'url("../../assets/images/backgrounds/header-bg.png")',backgroundColor:"#FAFAFA",color:"#FFFFFF",backgroundSize:"cover",backgroundPosition:"0 50%",backgroundRepeat:"no-repeat",position:"relative","&:before":{content:"''",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1,background:"rgba(0, 0, 0, 0.45)"},"&.Jan":{backgroundImage:"url('/assets/images/calendar/winter.jpg')",backgroundPosition:"0 85%"},"&.Feb":{backgroundImage:"url('/assets/images/calendar/winter.jpg')",backgroundPosition:"0 85%"},"&.Mar":{backgroundImage:"url('/assets/images/calendar/spring.jpg')",backgroundPosition:"0 40%"},"&.Apr":{backgroundImage:"url('/assets/images/calendar/spring.jpg')",backgroundPosition:"0 40%"},"&.May":{backgroundImage:"url('/assets/images/calendar/spring.jpg')",backgroundPosition:"0 40%"},"&.Jun":{backgroundImage:"url('/assets/images/calendar/summer.jpg')",backgroundPosition:"0 80%"},"&.Jul":{backgroundImage:"url('/assets/images/calendar/summer.jpg')",backgroundPosition:"0 80%"},"&.Aug":{backgroundImage:"url('/assets/images/calendar/summer.jpg')",backgroundPosition:"0 80%"},"&.Sep":{backgroundImage:"url('/assets/images/calendar/autumn.jpg')",backgroundPosition:"0 40%"},"&.Oct":{backgroundImage:"url('/assets/images/calendar/autumn.jpg')",backgroundPosition:"0 40%"},"&.Nov":{backgroundImage:"url('/assets/images/calendar/autumn.jpg')",backgroundPosition:"0 40%"},"&.Dec":{backgroundImage:"url('/assets/images/calendar/winter.jpg')",backgroundPosition:"0 85%"}}}},{withTheme:!0})(k),C=a(19),A=a(22),N=a(71),P=a.n(N),I="[CALENDAR APP] GET EVENTS",T="[CALENDAR APP] OPEN NEW EVENT DIALOG",L="[CALENDAR APP] CLOSE NEW EVENT DIALOG",S="[CALENDAR APP] OPEN EDIT EVENT DIALOG",z="[CALENDAR APP] CLOSE EDIT EVENT DIALOG",M="[CALENDAR APP] ADD EVENT",V="[CALENDAR APP] UPDATE EVENT",F="[CALENDAR APP] REMOVE EVENT";function _(){var e=P.a.get("/api/calendar-app/events");return function(t){return e.then(function(e){return t({type:I,payload:e.data})})}}function B(e){return{type:T,data:e}}function H(){return{type:L}}function R(e){return{type:S,data:e}}function W(){return{type:z}}function G(e){return function(t,a){return P.a.post("/api/calendar-app/add-event",{newEvent:e}).then(function(e){return Promise.all([t({type:M})]).then(function(){return t(_())})})}}function J(e){return function(t,a){return P.a.post("/api/calendar-app/update-event",{event:e}).then(function(e){return Promise.all([t({type:V})]).then(function(){return t(_())})})}}function U(e){return function(t,a){return P.a.post("/api/calendar-app/remove-event",{eventId:e}).then(function(e){return Promise.all([t({type:F})]).then(function(){return t(_())})})}}var q=a(7),X={id:a(521).a.generateGUID(),title:"",allDay:!0,start:new Date,end:new Date,desc:""},Y=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state=Object(c.a)({},X),a.handleChange=function(e){a.setState(q.a.set(Object(c.a)({},a.state),e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))},a.closeComposeDialog=function(){"edit"===a.props.eventDialog.type?a.props.closeEditEventDialog():a.props.closeNewEventDialog()},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){!e.eventDialog.props.open&&this.props.eventDialog.props.open&&("edit"===this.props.eventDialog.type&&this.props.eventDialog.data&&!q.a.isEqual(this.props.eventDialog.data,t)&&this.setState(Object(c.a)({},this.props.eventDialog.data)),"new"===this.props.eventDialog.type&&this.setState(Object(c.a)({},X,this.props.eventDialog.data)))}},{key:"canBeSubmitted",value:function(){return this.state.title.length>0}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.eventDialog,r=t.addEvent,o=t.updateEvent,i=t.removeEvent,s=h()(this.state.start).format(h.a.HTML5_FMT.DATETIME_LOCAL_SECONDS),l=h()(this.state.end).format(h.a.HTML5_FMT.DATETIME_LOCAL_SECONDS);return u.a.createElement(v.l,Object.assign({className:a.root},n.props,{onClose:this.closeComposeDialog,fullWidth:!0,maxWidth:"xs"}),u.a.createElement(v.a,{position:"static"},u.a.createElement(v.tb,{className:"flex w-full"},u.a.createElement(v.vb,{variant:"subtitle1",color:"inherit"},"new"===n.type?"New Event":"Edit Event"))),u.a.createElement(v.n,{classes:{root:"p-16 pb-0 sm:p-24 sm:pb-0"}},u.a.createElement(v.sb,{id:"title",label:"Title",className:a.formControl,InputLabelProps:{shrink:!0},inputProps:{max:l},name:"title",value:this.state.title,onChange:this.handleChange,variant:"outlined",autoFocus:!0,required:!0,fullWidth:!0}),u.a.createElement(v.y,{className:a.formControl,label:"All Day",control:u.a.createElement(v.ib,{checked:this.state.allDay,id:"allDay",name:"allDay",onChange:this.handleChange})}),u.a.createElement(v.sb,{id:"start",name:"start",label:"Start",type:"datetime-local",className:a.formControl,InputLabelProps:{shrink:!0},inputProps:{max:l},value:s,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),u.a.createElement(v.sb,{id:"end",name:"end",label:"End",type:"datetime-local",className:a.formControl,InputLabelProps:{shrink:!0},inputProps:{min:s},value:l,onChange:this.handleChange,variant:"outlined",fullWidth:!0}),u.a.createElement(v.sb,{className:a.formControl,id:"desc",label:"Description",type:"text",name:"desc",value:this.state.desc,onChange:this.handleChange,multiline:!0,rows:5,variant:"outlined",fullWidth:!0})),"new"===n.type?u.a.createElement(v.m,{className:"justify-between pl-8 sm:pl-16"},u.a.createElement(v.c,{variant:"contained",color:"primary",onClick:function(){r(e.state),e.closeComposeDialog()},disabled:!this.canBeSubmitted()},"Add")):u.a.createElement(v.m,{className:"justify-between pl-8 sm:pl-16"},u.a.createElement(v.c,{variant:"contained",color:"primary",onClick:function(){o(e.state),e.closeComposeDialog()},disabled:!this.canBeSubmitted()}," Save"),u.a.createElement(v.I,{onClick:function(){i(e.state.id),e.closeComposeDialog()}},u.a.createElement(v.H,null,"delete"))))}}]),t}(d.Component);var K=Object(p.withStyles)(function(e){return{root:{},formControl:{marginTop:8,marginBottom:16}}},{withTheme:!0})(Object(A.b)(function(e){return{eventDialog:e.calendarApp.events.eventDialog}},function(e){return Object(C.c)({closeEditEventDialog:W,closeNewEventDialog:H,addEvent:G,updateEvent:J,removeEvent:U},e)})(Y)),Q=a(2040),Z=a.n(Q),$=(a(2045),a(235)),ee={entities:[],eventDialog:{type:"new",props:{open:!1},data:null}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:var a=t.payload.map(function(e){return Object(c.a)({},e,{start:new Date(e.start),end:new Date(e.end)})});return Object(c.a)({},e,{entities:a});case T:return Object(c.a)({},e,{eventDialog:{type:"new",props:{open:!0},data:Object(c.a)({},t.data)}});case L:return Object(c.a)({},e,{eventDialog:{type:"new",props:{open:!1},data:null}});case S:return Object(c.a)({},e,{eventDialog:{type:"edit",props:{open:!0},data:Object(c.a)({},t.data,{start:new Date(t.data.start),end:new Date(t.data.end)})}});case z:return Object(c.a)({},e,{eventDialog:{type:"edit",props:{open:!1},data:null}});default:return e}},ae=Object(C.d)({events:te}),ne=b.a.momentLocalizer(h.a),re=Z()(b.a),oe=Object.keys(b.a.Views).map(function(e){return b.a.Views[e]}),ie=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).moveEvent=function(e){var t=e.event,n=e.start,r=e.end;a.props.updateEvent(Object(c.a)({},t,{start:n,end:r}))},a.resizeEvent=function(e){var t=e.event,n=e.start,r=e.end;delete t.type,a.props.updateEvent(Object(c.a)({},t,{start:n,end:r}))},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getEvents()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.events,n=e.openNewEventDialog,r=e.openEditEventDialog;return u.a.createElement("div",{className:t.root},u.a.createElement(re,{className:"flex flex-1",selectable:!0,localizer:ne,events:a,onEventDrop:this.moveEvent,resizable:!0,onEventResize:this.resizeEvent,defaultView:b.a.Views.MONTH,defaultDate:new Date(2018,3,1),startAccessor:"start",endAccessor:"end",views:oe,step:60,showMultiDayTimes:!0,components:{toolbar:x},onSelectEvent:function(e){r(e)},onSelectSlot:function(e){return n({start:e.start.toLocaleString(),end:e.end.toLocaleString()})}}),u.a.createElement(O.d,{animation:"transition.expandIn",delay:500},u.a.createElement(v.v,{color:"secondary","aria-label":"add",className:t.addButton,onClick:function(){return n({start:new Date,end:new Date})}},u.a.createElement(v.H,null,"add"))),u.a.createElement(K,null))}}]),t}(d.Component);t.default=Object($.a)("calendarApp",ae)(Object(p.withStyles)(function(e){return{root:{display:"flex",position:"relative",flexDirection:"column",flex:1,"& .rbc-header":{padding:"12px 6px",fontWeight:600,fontSize:14},"& .rbc-label":{padding:"8px 6px"},"& .rbc-today":{backgroundColor:"transparent"},"& .rbc-header.rbc-today, & .rbc-month-view .rbc-day-bg.rbc-today":{borderBottom:"2px solid "+e.palette.secondary.main+"!important"},"& .rbc-month-view, & .rbc-time-view, & .rbc-agenda-view":Object(c.a)(Object(l.a)({padding:24},e.breakpoints.down("sm"),{padding:16}),e.mixins.border(0)),"& .rbc-agenda-view table":Object(c.a)({},e.mixins.border(1),{"& thead > tr > th":Object(c.a)({},e.mixins.borderBottom(0)),"& tbody > tr > td":{padding:"12px 6px","& + td":Object(c.a)({},e.mixins.borderLeft(1))}}),"& .rbc-time-view":{"& .rbc-time-header":Object(c.a)({},e.mixins.border(1)),"& .rbc-time-content":Object(c.a)({flex:"0 1 auto"},e.mixins.border(1))},"& .rbc-month-view":{"& > .rbc-row":Object(c.a)({},e.mixins.border(1)),"& .rbc-month-row":Object(c.a)({},e.mixins.border(1),{borderWidth:"0 1px 1px 1px!important",minHeight:128}),"& .rbc-header + .rbc-header":Object(c.a)({},e.mixins.borderLeft(1)),"& .rbc-header":Object(c.a)({},e.mixins.borderBottom(0)),"& .rbc-day-bg + .rbc-day-bg":Object(c.a)({},e.mixins.borderLeft(1))},"& .rbc-day-slot .rbc-time-slot":Object(c.a)({},e.mixins.borderTop(1),{opacity:.5}),"& .rbc-time-header > .rbc-row > * + *":Object(c.a)({},e.mixins.borderLeft(1)),"& .rbc-time-content > * + * > *":Object(c.a)({},e.mixins.borderLeft(1)),"& .rbc-day-bg + .rbc-day-bg":Object(c.a)({},e.mixins.borderLeft(1)),"& .rbc-time-header > .rbc-row:first-child":Object(c.a)({},e.mixins.borderBottom(1)),"& .rbc-timeslot-group":Object(c.a)({minHeight:64},e.mixins.borderBottom(1)),"& .rbc-date-cell":{padding:8,fontSize:16,fontWeight:400,opacity:.5,"& > a":{color:"inherit"}},"& .rbc-event":{borderRadius:4,padding:"4px 8px",backgroundColor:e.palette.primary.dark,color:e.palette.primary.contrastText,boxShadow:e.shadows[0],transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,position:"relative","&:hover":{boxShadow:e.shadows[2]}},"& .rbc-row-segment":{padding:"0 4px 4px 4px"},"& .rbc-off-range-bg":{backgroundColor:"light"===e.palette.type?"rgba(0,0,0,0.03)":"rgba(0,0,0,0.16)"},"& .rbc-show-more":{color:e.palette.secondary.main,background:"transparent"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event":{position:"static"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:first-child":{left:0,top:0,bottom:0,height:"auto"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:last-child":{right:0,top:0,bottom:0,height:"auto"}},addButton:{position:"absolute",right:12,top:172,zIndex:99}}},{withTheme:!0})(Object(A.b)(function(e){return{events:e.calendarApp.events.entities}},function(e){return Object(C.c)({getEvents:_,openNewEventDialog:B,openEditEventDialog:R,updateEvent:J},e)})(ie)))}}]);
//# sourceMappingURL=10.82afe628.chunk.js.map