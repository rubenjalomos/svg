(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1738:function(e,t,a){"use strict";var n=a(71),r=a.n(n),c="[E-COMMERCE APP] GET PRODUCTS",o="[E-COMMERCE APP] SET PRODUCTS SEARCH TEXT";function i(){var e=r.a.get("/api/e-commerce-app/products");return function(t){return e.then(function(e){return t({type:c,payload:e.data})})}}function l(e){return{type:o,searchText:e.target.value}}var s=a(3),u=a(50),d="[E-COMMERCE APP] GET PRODUCT",m="[E-COMMERCE APP] SAVE PRODUCT";function p(e){var t=r.a.get("/api/e-commerce-app/product",{params:e});return function(e){return t.then(function(t){return e({type:d,payload:t.data})})}}function h(e){var t=r.a.post("/api/e-commerce-app/product/save",e);return function(e){return t.then(function(t){return e(Object(u.A)({message:"Product Saved"})),e({type:m,payload:t.data})})}}function f(){var e={id:s.B.generateGUID(),name:"",handle:"",description:"",categories:[],tags:[],images:[],priceTaxExcl:0,priceTaxIncl:0,taxRate:0,comparedPrice:0,quantity:0,sku:"",width:"",height:"",depth:"",weight:"",extraShippingFee:0,active:!0};return{type:d,payload:e}}var g="[E-COMMERCE APP] GET ORDERS",b="[E-COMMERCE APP] SET ORDERS SEARCH TEXT";function E(){var e=r.a.get("/api/e-commerce-app/orders");return function(t){return e.then(function(e){return t({type:g,payload:e.data})})}}function v(e){return{type:b,searchText:e.target.value}}var y="[E-COMMERCE APP] GET ORDER",P="[E-COMMERCE APP] SAVE ORDER";function x(e){var t=r.a.get("/api/e-commerce-app/order",{params:e});return function(e){return t.then(function(t){return e({type:y,payload:t.data})})}}function w(e){var t=r.a.post("/api/e-commerce-app/order/save",e);return function(e){return t.then(function(t){return e(Object(u.A)({message:"Order Saved"})),e({type:P,payload:t.data})})}}a.d(t,"d",function(){return c}),a.d(t,"h",function(){return o}),a.d(t,"l",function(){return i}),a.d(t,"q",function(){return l}),a.d(t,"c",function(){return d}),a.d(t,"f",function(){return m}),a.d(t,"k",function(){return p}),a.d(t,"o",function(){return h}),a.d(t,"m",function(){return f}),a.d(t,"b",function(){return g}),a.d(t,"g",function(){return b}),a.d(t,"j",function(){return E}),a.d(t,"p",function(){return v}),a.d(t,"a",function(){return y}),a.d(t,"e",function(){return P}),a.d(t,"i",function(){return x}),a.d(t,"n",function(){return w})},1759:function(e,t,a){"use strict";var n=a(19),r=a(17),c=a(1738),o={data:[],searchText:""},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.d:return Object(r.a)({},e,{data:t.payload});case c.h:return Object(r.a)({},e,{searchText:t.searchText});default:return e}},l={data:null},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.c:case c.f:return Object(r.a)({},e,{data:t.payload});default:return e}},u={data:[],searchText:""},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.b:return Object(r.a)({},e,{data:t.payload});case c.g:return Object(r.a)({},e,{searchText:t.searchText});default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:case c.e:return Object(r.a)({},t.payload);default:return e}},p=Object(n.d)({products:i,product:s,orders:d,order:m});t.a=p},2664:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(11),c=a(13),o=a(12),i=a(14),l=a(0),s=a.n(l),u=a(15),d=a(3),m=a(1),p=a(272),h=a(19),f=a(126),g=a(1738),b=[{id:"image",numeric:!1,disablePadding:!0,label:"",sort:!1},{id:"name",numeric:!1,disablePadding:!1,label:"Name",sort:!0},{id:"categories",numeric:!1,disablePadding:!1,label:"Category",sort:!0},{id:"priceTaxIncl",numeric:!0,disablePadding:!1,label:"Price",sort:!0},{id:"quantity",numeric:!0,disablePadding:!1,label:"Quantity",sort:!0},{id:"active",numeric:!0,disablePadding:!1,label:"Active",sort:!0}],E=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={selectedProductsMenu:null},a.createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a.openSelectedProductsMenu=function(e){a.setState({selectedProductsMenu:e.currentTarget})},a.closeSelectedProductsMenu=function(){a.setState({selectedProductsMenu:null})},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelectAllClick,n=t.order,r=t.orderBy,c=t.numSelected,o=t.rowCount,i=t.classes,l=this.state.selectedProductsMenu;return s.a.createElement(m.nb,null,s.a.createElement(m.pb,{className:"h-64"},s.a.createElement(m.mb,{padding:"checkbox",className:"relative pl-4 sm:pl-12"},s.a.createElement(m.h,{indeterminate:c>0&&c<o,checked:c===o,onChange:a}),c>0&&s.a.createElement("div",{className:i.actionsButtonWrapper},s.a.createElement(m.I,{"aria-owns":l?"selectedProductsMenu":null,"aria-haspopup":"true",onClick:this.openSelectedProductsMenu},s.a.createElement(m.H,null,"more_horiz")),s.a.createElement(m.T,{id:"selectedProductsMenu",anchorEl:l,open:Boolean(l),onClose:this.closeSelectedProductsMenu},s.a.createElement(m.V,null,s.a.createElement(m.U,{onClick:function(){e.closeSelectedProductsMenu()}},s.a.createElement(m.P,{className:i.icon},s.a.createElement(m.H,null,"delete")),s.a.createElement(m.R,{inset:!0,primary:"Remove"})))))),b.map(function(t){return s.a.createElement(m.mb,{key:t.id,numeric:t.numeric,padding:t.disablePadding?"none":"default",sortDirection:r===t.id&&n},t.sort&&s.a.createElement(m.ub,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},s.a.createElement(m.qb,{active:r===t.id,direction:n,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(s.a.Component),v=Object(u.withStyles)(function(e){return{root:{},actionsButtonWrapper:{position:"absolute",top:0,left:64,width:64,height:63,zIndex:10,background:e.palette.background.paper,alignItems:"center",display:"flex",justifyContent:"center"}}},{withTheme:!0})(E),y=a(5),P=a.n(y),x=a(7),w=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={order:"asc",orderBy:null,selected:[],data:a.props.products,page:0,rowsPerPage:10},a.getFilteredArray=function(e,t){return 0===t.length?e:x.a.filter(e,function(e){return e.name.toLowerCase().includes(t.toLowerCase())})},a.handleRequestSort=function(e,t){var n=t,r="desc";a.state.orderBy===t&&"desc"===a.state.order&&(r="asc"),a.setState({order:r,orderBy:n})},a.handleSelectAllClick=function(e){e.target.checked?a.setState(function(e){return{selected:a.state.data.map(function(e){return e.id})}}):a.setState({selected:[]})},a.handleClick=function(e){a.props.history.push("/apps/e-commerce/products/"+e.id+"/"+e.handle)},a.handleCheck=function(e,t){var n=a.state.selected,r=n.indexOf(t),c=[];-1===r?c=c.concat(n,t):0===r?c=c.concat(n.slice(1)):r===n.length-1?c=c.concat(n.slice(0,-1)):r>0&&(c=c.concat(n.slice(0,r),n.slice(r+1))),a.setState({selected:c})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getProducts()}},{key:"componentDidUpdate",value:function(e,t){if(!x.a.isEqual(this.props.products,e.products)||!x.a.isEqual(this.props.searchText,e.searchText)){var a=this.getFilteredArray(this.props.products,this.props.searchText);this.setState({data:a})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.order,n=t.orderBy,r=t.selected,c=t.rowsPerPage,o=t.page,i=t.data;return s.a.createElement("div",{className:"w-full flex flex-col"},s.a.createElement(d.t,{className:"flex-grow overflow-x-auto"},s.a.createElement(m.kb,{className:"min-w-xl","aria-labelledby":"tableTitle"},s.a.createElement(v,{numSelected:r.length,order:a,orderBy:n,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:i.length}),s.a.createElement(m.lb,null,x.a.orderBy(i,[function(e){switch(n){case"categories":return e.categories[0];default:return e[n]}}],[a]).slice(o*c,o*c+c).map(function(t){var a=e.isSelected(t.id);return s.a.createElement(m.pb,{className:"h-64 cursor-pointer",hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,key:t.id,selected:a,onClick:function(a){return e.handleClick(t)}},s.a.createElement(m.mb,{className:"w-48 pl-4 sm:pl-12",padding:"checkbox"},s.a.createElement(m.h,{checked:a,onClick:function(e){return e.stopPropagation()},onChange:function(a){return e.handleCheck(a,t.id)}})),s.a.createElement(m.mb,{className:"w-52",component:"th",scope:"row",padding:"none"},t.images.length>0?s.a.createElement("img",{className:"w-full block rounded",src:x.a.find(t.images,{id:t.featuredImageId}).url,alt:t.name}):s.a.createElement("img",{className:"w-full block rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:t.name})),s.a.createElement(m.mb,{component:"th",scope:"row"},t.name),s.a.createElement(m.mb,{className:"truncate",component:"th",scope:"row"},t.categories.join(", ")),s.a.createElement(m.mb,{component:"th",scope:"row",numeric:!0},s.a.createElement("span",null,"$"),t.priceTaxIncl),s.a.createElement(m.mb,{component:"th",scope:"row",numeric:!0},t.quantity,s.a.createElement("i",{className:P()("inline-block w-8 h-8 rounded ml-8",t.quantity<=5&&"bg-red",t.quantity>5&&t.quantity<=25&&"bg-orange",t.quantity>25&&"bg-green")})),s.a.createElement(m.mb,{component:"th",scope:"row",numeric:!0},t.active?s.a.createElement(m.H,{className:"text-green text-20"},"check_circle"):s.a.createElement(m.H,{className:"text-red text-20"},"remove_circle")))})))),s.a.createElement(m.ob,{component:"div",count:i.length,rowsPerPage:c,page:o,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(l.Component);var C=Object(u.withStyles)(function(e){return{root:{}}},{withTheme:!0})(Object(p.g)(Object(f.a)(function(e){var t=e.eCommerceApp;return{products:t.products.data,searchText:t.products.searchText}},function(e){return Object(h.c)({getProducts:g.l},e)})(w))),O=a(22),S=a(32),j=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.setSearchText,n=e.searchText;return s.a.createElement("div",{className:P()(t.root,"flex flex-1 w-full items-center justify-between")},s.a.createElement("div",{className:"flex items-center"},s.a.createElement(d.d,{animation:"transition.expandIn",delay:300},s.a.createElement(m.H,{className:"text-32 mr-0 sm:mr-12"},"shopping_basket")),s.a.createElement(d.d,{animation:"transition.slideLeftIn",delay:300},s.a.createElement(m.vb,{className:"hidden sm:flex",variant:"h6"},"Products"))),s.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},s.a.createElement(u.MuiThemeProvider,{theme:d.v},s.a.createElement(d.d,{animation:"transition.slideDownIn",delay:300},s.a.createElement(m.X,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8",elevation:1},s.a.createElement(m.H,{className:"mr-8",color:"action"},"search"),s.a.createElement(m.J,{placeholder:"Search",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:n,inputProps:{"aria-label":"Search"},onChange:a}))))),s.a.createElement(d.d,{animation:"transition.slideRightIn",delay:300},s.a.createElement(m.c,{component:S.a,to:"/apps/e-commerce/products/new",className:"whitespace-no-wrap",variant:"contained"},s.a.createElement("span",{className:"hidden sm:flex"},"Add New Product"),s.a.createElement("span",{className:"flex sm:hidden"},"New"))))}}]),t}(l.Component);var T=Object(u.withStyles)(function(e){return{root:{}}},{withTheme:!0})(Object(O.b)(function(e){return{searchText:e.eCommerceApp.products.searchText}},function(e){return Object(h.c)({setSearchText:g.q},e)})(j)),k=a(235),R=a(1759),N=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement(d.r,{classes:{content:"flex",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:s.a.createElement(T,null),content:s.a.createElement(C,null),innerScroll:!0})}}]),t}(l.Component);t.default=Object(k.a)("eCommerceApp",R.a)(Object(u.withStyles)(function(e){return{}})(N))}}]);
//# sourceMappingURL=13.1b5c0df2.chunk.js.map