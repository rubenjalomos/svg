(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1738:function(e,t,n){"use strict";var a=n(71),r=n.n(a),c="[E-COMMERCE APP] GET PRODUCTS",o="[E-COMMERCE APP] SET PRODUCTS SEARCH TEXT";function i(){var e=r.a.get("/api/e-commerce-app/products");return function(t){return e.then(function(e){return t({type:c,payload:e.data})})}}function l(e){return{type:o,searchText:e.target.value}}var s=n(3),d=n(50),u="[E-COMMERCE APP] GET PRODUCT",m="[E-COMMERCE APP] SAVE PRODUCT";function p(e){var t=r.a.get("/api/e-commerce-app/product",{params:e});return function(e){return t.then(function(t){return e({type:u,payload:t.data})})}}function h(e){var t=r.a.post("/api/e-commerce-app/product/save",e);return function(e){return t.then(function(t){return e(Object(d.A)({message:"Product Saved"})),e({type:m,payload:t.data})})}}function f(){var e={id:s.B.generateGUID(),name:"",handle:"",description:"",categories:[],tags:[],images:[],priceTaxExcl:0,priceTaxIncl:0,taxRate:0,comparedPrice:0,quantity:0,sku:"",width:"",height:"",depth:"",weight:"",extraShippingFee:0,active:!0};return{type:u,payload:e}}var b="[E-COMMERCE APP] GET ORDERS",g="[E-COMMERCE APP] SET ORDERS SEARCH TEXT";function E(){var e=r.a.get("/api/e-commerce-app/orders");return function(t){return e.then(function(e){return t({type:b,payload:e.data})})}}function y(e){return{type:g,searchText:e.target.value}}var v="[E-COMMERCE APP] GET ORDER",O="[E-COMMERCE APP] SAVE ORDER";function w(e){var t=r.a.get("/api/e-commerce-app/order",{params:e});return function(e){return t.then(function(t){return e({type:v,payload:t.data})})}}function x(e){var t=r.a.post("/api/e-commerce-app/order/save",e);return function(e){return t.then(function(t){return e(Object(d.A)({message:"Order Saved"})),e({type:O,payload:t.data})})}}n.d(t,"d",function(){return c}),n.d(t,"h",function(){return o}),n.d(t,"l",function(){return i}),n.d(t,"q",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){return m}),n.d(t,"k",function(){return p}),n.d(t,"o",function(){return h}),n.d(t,"m",function(){return f}),n.d(t,"b",function(){return b}),n.d(t,"g",function(){return g}),n.d(t,"j",function(){return E}),n.d(t,"p",function(){return y}),n.d(t,"a",function(){return v}),n.d(t,"e",function(){return O}),n.d(t,"i",function(){return w}),n.d(t,"n",function(){return x})},1759:function(e,t,n){"use strict";var a=n(19),r=n(17),c=n(1738),o={data:[],searchText:""},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.d:return Object(r.a)({},e,{data:t.payload});case c.h:return Object(r.a)({},e,{searchText:t.searchText});default:return e}},l={data:null},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.c:case c.f:return Object(r.a)({},e,{data:t.payload});default:return e}},d={data:[],searchText:""},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.b:return Object(r.a)({},e,{data:t.payload});case c.g:return Object(r.a)({},e,{searchText:t.searchText});default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:case c.e:return Object(r.a)({},t.payload);default:return e}},p=Object(a.d)({products:i,product:s,orders:u,order:m});t.a=p},1809:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(5),o=n.n(c),i=n(7),l=[{id:1,name:"Awaiting check payment",color:"bg-blue text-white"},{id:2,name:"Payment accepted",color:"bg-green text-white"},{id:3,name:"Preparing the order",color:"bg-orange text-black"},{id:4,name:"Shipped",color:"bg-purple text-white"},{id:5,name:"Delivered",color:"bg-green-dark text-white"},{id:6,name:"Canceled",color:"bg-pink text-white"},{id:7,name:"Refunded",color:"bg-red text-white"},{id:8,name:"Payment error",color:"bg-red-dark text-white"},{id:9,name:"On pre-order (paid)",color:"bg-purple-light text-white"},{id:10,name:"Awaiting bank wire payment",color:"bg-blue text-white"},{id:11,name:"Awaiting PayPal payment",color:"bg-blue-dark text-white"},{id:12,name:"Remote payment accepted",color:"bg-green-darker text-white"},{id:13,name:"On pre-order (not paid)",color:"bg-purple-dark text-white"},{id:14,name:"Awaiting Cash-on-delivery payment",color:"bg-blue-darker text-white"}];t.a=function(e){var t=e.name;return r.a.createElement("div",{className:o()("inline text-12 p-4 rounded truncate",i.a.find(l,{name:t}).color)},t)}},2662:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(11),c=n(13),o=n(12),i=n(14),l=n(0),s=n.n(l),d=n(15),u=n(3),m=n(1),p=n(1738),h=n(19),f=n(22),b=n(5),g=n.n(b),E=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.setSearchText,a=e.searchText;return s.a.createElement("div",{className:g()(t.root,"flex flex-1 w-full items-center justify-between")},s.a.createElement("div",{className:"flex items-center"},s.a.createElement(u.d,{animation:"transition.expandIn",delay:300},s.a.createElement(m.H,{className:"text-32 mr-0 sm:mr-12"},"shopping_basket")),s.a.createElement(u.d,{animation:"transition.slideLeftIn",delay:300},s.a.createElement(m.vb,{className:"hidden sm:flex",variant:"h6"},"Orders"))),s.a.createElement("div",{className:"flex flex-1 items-center justify-center pr-0 pl-12 sm:px-12"},s.a.createElement(d.MuiThemeProvider,{theme:u.v},s.a.createElement(u.d,{animation:"transition.slideDownIn",delay:300},s.a.createElement(m.X,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8",elevation:1},s.a.createElement(m.H,{className:"mr-8",color:"action"},"search"),s.a.createElement(m.J,{placeholder:"Search",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:n}))))))}}]),t}(l.Component);var y=Object(d.withStyles)(function(e){return{root:{}}},{withTheme:!0})(Object(f.b)(function(e){return{searchText:e.eCommerceApp.orders.searchText}},function(e){return Object(h.c)({setSearchText:p.p},e)})(E)),v=n(272),O=n(126),w=[{id:"id",numeric:!1,disablePadding:!1,label:"ID",sort:!0},{id:"reference",numeric:!1,disablePadding:!1,label:"Reference",sort:!0},{id:"customer",numeric:!1,disablePadding:!1,label:"Customer",sort:!0},{id:"total",numeric:!0,disablePadding:!1,label:"Total",sort:!0},{id:"payment",numeric:!1,disablePadding:!1,label:"Payment",sort:!0},{id:"status",numeric:!1,disablePadding:!1,label:"Status",sort:!0},{id:"date",numeric:!1,disablePadding:!1,label:"Date",sort:!0}],x=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={selectedOrdersMenu:null},n.createSortHandler=function(e){return function(t){n.props.onRequestSort(t,e)}},n.openSelectedOrdersMenu=function(e){n.setState({selectedOrdersMenu:e.currentTarget})},n.closeSelectedOrdersMenu=function(){n.setState({selectedOrdersMenu:null})},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onSelectAllClick,a=t.order,r=t.orderBy,c=t.numSelected,o=t.rowCount,i=t.classes,l=this.state.selectedOrdersMenu;return s.a.createElement(m.nb,null,s.a.createElement(m.pb,{className:"h-64"},s.a.createElement(m.mb,{padding:"checkbox",className:"relative pl-4 sm:pl-12"},s.a.createElement(m.h,{indeterminate:c>0&&c<o,checked:c===o,onChange:n}),c>0&&s.a.createElement("div",{className:i.actionsButtonWrapper},s.a.createElement(m.I,{"aria-owns":l?"selectedOrdersMenu":null,"aria-haspopup":"true",onClick:this.openSelectedOrdersMenu},s.a.createElement(m.H,null,"more_horiz")),s.a.createElement(m.T,{id:"selectedOrdersMenu",anchorEl:l,open:Boolean(l),onClose:this.closeSelectedOrdersMenu},s.a.createElement(m.V,null,s.a.createElement(m.U,{onClick:function(){e.closeSelectedOrdersMenu()}},s.a.createElement(m.P,{className:i.icon},s.a.createElement(m.H,null,"delete")),s.a.createElement(m.R,{inset:!0,primary:"Remove"})))))),w.map(function(t){return s.a.createElement(m.mb,{key:t.id,numeric:t.numeric,padding:t.disablePadding?"none":"default",sortDirection:r===t.id&&a},t.sort&&s.a.createElement(m.ub,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},s.a.createElement(m.qb,{active:r===t.id,direction:a,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(s.a.Component),P=Object(d.withStyles)(function(e){return{root:{},actionsButtonWrapper:{position:"absolute",top:0,left:64,width:64,height:63,zIndex:10,background:e.palette.background.paper,alignItems:"center",display:"flex",justifyContent:"center"}}},{withTheme:!0})(x),C=n(1809),S=n(7),k=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={order:"asc",orderBy:"id",selected:[],data:n.props.orders,page:0,rowsPerPage:10},n.getFilteredArray=function(e,t){return 0===t.length?e:u.B.filterArrayByString(e,t)},n.handleRequestSort=function(e,t){var a=t,r="desc";n.state.orderBy===t&&"desc"===n.state.order&&(r="asc"),n.setState({order:r,orderBy:a})},n.handleSelectAllClick=function(e){e.target.checked?n.setState(function(e){return{selected:n.state.data.map(function(e){return e.id})}}):n.setState({selected:[]})},n.handleClick=function(e){n.props.history.push("/apps/e-commerce/orders/"+e.id)},n.handleCheck=function(e,t){var a=n.state.selected,r=a.indexOf(t),c=[];-1===r?c=c.concat(a,t):0===r?c=c.concat(a.slice(1)):r===a.length-1?c=c.concat(a.slice(0,-1)):r>0&&(c=c.concat(a.slice(0,r),a.slice(r+1))),n.setState({selected:c})},n.handleChangePage=function(e,t){n.setState({page:t})},n.handleChangeRowsPerPage=function(e){n.setState({rowsPerPage:e.target.value})},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getOrders()}},{key:"componentDidUpdate",value:function(e,t){if(!S.a.isEqual(this.props.orders,e.orders)||!S.a.isEqual(this.props.searchText,e.searchText)){var n=this.getFilteredArray(this.props.orders,this.props.searchText);this.setState({data:n})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.order,a=t.orderBy,r=t.selected,c=t.rowsPerPage,o=t.page,i=t.data;return s.a.createElement("div",{className:"w-full flex flex-col"},s.a.createElement(u.t,{className:"flex-grow overflow-x-auto"},s.a.createElement(m.kb,{className:"min-w-xl","aria-labelledby":"tableTitle"},s.a.createElement(P,{numSelected:r.length,order:n,orderBy:a,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:i.length}),s.a.createElement(m.lb,null,S.a.orderBy(i,[function(e){switch(a){case"id":return parseInt(e.id,10);case"customer":return e.customer.firstName;case"payment":return e.payment.method;case"status":return e.status[0].name;default:return e[a]}}],[n]).slice(o*c,o*c+c).map(function(t){var n=e.isSelected(t.id);return s.a.createElement(m.pb,{className:"h-64 cursor-pointer",hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,key:t.id,selected:n,onClick:function(n){return e.handleClick(t)}},s.a.createElement(m.mb,{className:"w-48 pl-4 sm:pl-12",padding:"checkbox"},s.a.createElement(m.h,{checked:n,onClick:function(e){return e.stopPropagation()},onChange:function(n){return e.handleCheck(n,t.id)}})),s.a.createElement(m.mb,{component:"th",scope:"row"},t.id),s.a.createElement(m.mb,{component:"th",scope:"row"},t.reference),s.a.createElement(m.mb,{className:"truncate",component:"th",scope:"row"},t.customer.firstName+" "+t.customer.lastName),s.a.createElement(m.mb,{component:"th",scope:"row",numeric:!0},s.a.createElement("span",null,"$"),t.total),s.a.createElement(m.mb,{component:"th",scope:"row"},t.payment.method),s.a.createElement(m.mb,{component:"th",scope:"row"},s.a.createElement(C.a,{name:t.status[0].name})),s.a.createElement(m.mb,{component:"th",scope:"row"},t.date))})))),s.a.createElement(m.ob,{component:"div",count:i.length,rowsPerPage:c,page:o,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(l.Component);var j=Object(d.withStyles)(function(e){return{root:{}}},{withTheme:!0})(Object(v.g)(Object(O.a)(function(e){var t=e.eCommerceApp;return{orders:t.orders.data,searchText:t.orders.searchText}},function(e){return Object(h.c)({getOrders:p.j},e)})(k))),T=n(235),R=n(1759),A=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement(u.r,{classes:{content:"flex",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:s.a.createElement(y,null),content:s.a.createElement(j,null),innerScroll:!0})}}]),t}(l.Component);t.default=Object(T.a)("eCommerceApp",R.a)(Object(d.withStyles)(function(e){return{}})(A))}}]);
//# sourceMappingURL=15.2f5fbf69.chunk.js.map